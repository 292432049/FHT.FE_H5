webpackJsonp([7],{POqA:function(t,e,a){"use strict";function n(t){a("aATl")}Object.defineProperty(e,"__esModule",{value:!0});var s=a("c+uS"),i=a("qlbQ"),r=a("ZX1J"),o=a("3roi"),l=a("Bnh8"),c=a("L0x8"),d=a("VgBk"),u=(s.a,i.a,r.a,o.a,d.a,l.a,{name:"source-list",components:{Sticky:s.a,Tab:i.a,TabItem:r.a,Search:o.a,scroll:d.a,footers:l.a},mounted:function(){window.backUrl=function(){return"false"},this.searchParam()},filters:{genderStr:function(t){var e=["先生","女士"];return t?e[t-1]:"先生"},statusStr:function(t){var e=["低","中","高"];return t?e[t-1]:"中"},listStatus:function(t){var e="";switch(t.status){case 0:e="新增";break;case 1:var a=["","电话-意向中","电话-约带看","电话-已签约","电话-无效"];e=t.statusType?a[t.statusType]:"未知状态";break;case 2:e=t.statusType?"带看-带看中":"未知状态";break;case 3:var n=["","结束带看-未签约","结束带看-已签约"];e=t.statusType?n[t.statusType]:"未知状态";break;default:e="未知状态"}return e}},data:function(){return{userName:"",keyWord:"",active:1,pageNo:1,listData:[],userList:[],userShow:!1,listShow:!1}},methods:{moreData:function(){this.pageNo++,this.searchParam()},searchGuest:function(){this.pageSize=1,this.searchParam()},clearSearch:function(){this.keyWord="",this.searchParam()},toDetail:function(t){this.$router.push({name:"sourceDetail",params:{guestSourceId:t.guestSourceId}})},runAs:function(t){JSRunAs.runAsAction(t.relateMobile)},searchParam:function(){var t=this,e={pageNo:this.pageNo,pageSize:20,keyword:this.keyWord};Object(c.d)(e).then(function(e){e.data&&e.data.content&&(1===t.pageNo?(t.listData=e.data.content||[],t.listShow=!(t.listData.length>0)):e.data.content.length>0?t.listData=t.listData.concat(e.data.content):t.$refs.scroll.forceUpdate())}).catch(function(e){t.$vux.toast.text(e.message)})},toAdd:function(){this.$router.push({name:"addSource",params:{guestSourceId:0}})}}}),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%"}},[a("view-box",{ref:"viewBox",attrs:{"body-padding-top":"46px"}},[a("x-header",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"100"},attrs:{slot:"header",title:"意向客源","left-options":{showBack:!1}},slot:"header"},[a("div",{staticClass:"addIcon",attrs:{slot:"right"},on:{click:t.toAdd},slot:"right"},[a("i",{staticClass:"iconfont icon-xinjian1"})])]),t._v(" "),a("sticky",{attrs:{"scroll-box":"vux_view_box_body"}},[a("div",{staticClass:"searchGray"},[a("search",{attrs:{"auto-fixed":!1,placeholder:"姓名/手机"},on:{"on-submit":t.searchGuest,"on-clear":t.clearSearch,"on-cancel":t.clearSearch},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}})],1)]),t._v(" "),a("div",{staticClass:"sourceScroll"},[a("scroll",{ref:"scroll",attrs:{data:t.listData,pullDownRefresh:!1},on:{pullingUp:t.moreData}},[a("ul",{staticClass:"userNav"},[t._l(t.listData,function(e,n){return a("li",{key:n,on:{click:function(a){t.toDetail(e)}}},[a("div",{staticClass:"userLeft"},[a("div",{staticClass:"line"},[a("div",{staticClass:"name ellipsis"},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"gender"},[t._v(t._s(t._f("genderStr")(e.gender)))])]),t._v(" "),a("div",{staticClass:"mobile"},[t._v(t._s(e.mobile))])]),t._v(" "),a("div",{class:["userStatus",1==e.intentionality?"success":3==e.intentionality?"warn":""]},[t._v("\n              "+t._s(t._f("statusStr")(e.intentionality))+"\n              ")]),t._v(" "),a("div",{staticClass:"userRight"},[t._v(t._s(t._f("listStatus")(e)))]),t._v(" "),a("i",{staticClass:"iconfont icon-youjiantou"})])}),t._v(" "),a("div",{staticClass:"clearfix"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"iconfont icon-wushuju"})],2)])],1),t._v(" "),a("footers",{attrs:{slot:"bottom",selectedIndex:3},slot:"bottom"})],1)],1)},h=[],v={render:f,staticRenderFns:h},m=v,g=a("Aizv"),p=n,b=g(u,m,!1,p,"data-v-493758d6",null);e.default=b.exports},TfL9:function(t,e,a){e=t.exports=a("yKCJ")(!1),e.push([t.i,"\n.left[data-v-493758d6] {\n  float: left;\n}\n.right[data-v-493758d6] {\n  float: right;\n}\n.sourceScroll[data-v-493758d6] {\n  height: 13.72222rem;\n}\n.userNav[data-v-493758d6] {\n  font-size: 0.33333rem;\n}\n.userNav li[data-v-493758d6] {\n  width: 100%;\n  float: left;\n  margin-bottom: 0.13889rem;\n  position: relative;\n  padding: 0.13889rem 0.41667rem;\n  box-sizing: border-box;\n  background-color: #fff;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  /*Flex布局*/\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  /*指定垂直居中*/\n}\n.userNav li .icon-youjiantou[data-v-493758d6] {\n  position: absolute;\n  right: 0.13889rem;\n  color: #ccc;\n  top: 0.33333rem;\n}\n.userNav li .userLeft[data-v-493758d6] {\n  width: 4.16667rem;\n  line-height: 0.55556rem;\n  float: left;\n}\n.userNav li .userLeft .name[data-v-493758d6] {\n  width: 1.94444rem;\n  float: left;\n}\n.userNav li .userLeft .gender[data-v-493758d6] {\n  width: 1.38889rem;\n  float: left;\n}\n.userNav li .userLeft .mobile[data-v-493758d6] {\n  color: #666;\n}\n.userNav li .userLeft .width100[data-v-493758d6] {\n  width: 100%;\n}\n.userNav li .userStatus[data-v-493758d6] {\n  float: left;\n  width: 0.55556rem;\n  height: 0.55556rem;\n  background: #4680FF;\n  line-height: 0.61111rem;\n  text-align: center;\n  color: #fff;\n}\n.userNav li .warn[data-v-493758d6] {\n  background: red;\n}\n.userNav li .success[data-v-493758d6] {\n  background: #38e028;\n}\n.userNav li .userRight[data-v-493758d6] {\n  width: 4.72222rem;\n  text-align: center;\n  line-height: 0.83333rem;\n  padding-right: 0.13889rem;\n  float: right;\n}\n.addList[data-v-493758d6] {\n  position: fixed;\n  width: 1.38889rem;\n  height: 1.38889rem;\n  bottom: 0.69444rem;\n  left: 50%;\n  margin-left: -0.69444rem;\n  color: #4680FF;\n  z-index: 3;\n}\n.addList i[data-v-493758d6] {\n  font-size: 1.38889rem;\n}\n",""])},aATl:function(t,e,a){var n=a("TfL9");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("bUva")("bdea3f4e",n,!0,{})}});