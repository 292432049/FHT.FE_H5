webpackJsonp([13],{E404:function(t,a,e){var n=e("S/yX");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("53ef48c6",n,!0,{})},POqA:function(t,a,e){"use strict";function n(t){e("E404")}Object.defineProperty(a,"__esModule",{value:!0});var s=e("vtEK"),i=e("odqc"),r=e("Znkm"),o=e("HqzV"),l=e("Bfwr"),c=e("63CM"),d=e("Bnh8"),u=e("L0x8"),h=e("VgBk"),f=(c.a,s.a,i.a,r.a,o.a,h.a,d.a,l.a,c.a,{name:"source-list",directives:{TransferDom:c.a},components:{Sticky:s.a,Tab:i.a,TabItem:r.a,Search:o.a,scroll:h.a,footers:d.a,Loading:l.a,TransferDom:c.a},mounted:function(){window.backUrl=function(){return"false"},this.searchParam(!0)},filters:{genderStr:function(t){var a=["先生","女士"];return t?a[t-1]:"先生"},statusStr:function(t){var a=["低","中","高"];return t?a[t-1]:"中"},listStatus:function(t){var a="";switch(t.status){case 0:a="新增";break;case 1:var e=["","电话-意向中","电话-约带看","电话-已签约","电话-无效"];a=t.statusType?e[t.statusType]:"未知状态";break;case 2:a=t.statusType?"带看-带看中":"未知状态";break;case 3:var n=["","结束带看-未签约","结束带看-已签约"];a=t.statusType?n[t.statusType]:"未知状态";break;default:a="未知状态"}return a}},data:function(){return{userName:"",keyWord:"",active:1,pageNo:1,listData:[],userList:[],showLoading:!1,userShow:!1,listShow:!1}},methods:{moreData:function(){this.pageNo++,this.searchParam()},searchGuest:function(){this.pageSize=1,this.searchParam()},clearSearch:function(){this.keyWord="",this.searchParam()},toDetail:function(t){this.$router.push({name:"sourceDetail",params:{guestSourceId:t.guestSourceId}})},runAs:function(t){JSRunAs.runAsAction(t.relateMobile)},searchParam:function(t){var a=this,e={pageNo:this.pageNo,pageSize:20,keyword:this.keyWord};t&&(this.showLoading=!0),Object(u.e)(e).then(function(e){t&&(a.showLoading=!1),e.data&&e.data.content&&(1===a.pageNo?(a.listData=e.data.content||[],a.listShow=!(a.listData.length>0)):e.data.content.length>0?a.listData=a.listData.concat(e.data.content):a.$refs.scroll.forceUpdate())}).catch(function(e){t&&(a.showLoading=!1),a.$vux.toast.text(e.message)})},toAdd:function(){this.$router.push({name:"addSource",params:{guestSourceId:0}})}}}),v=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{height:"100%"}},[e("view-box",{ref:"viewBox",attrs:{"body-padding-top":"46px"}},[e("x-header",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"100"},attrs:{slot:"header",title:"意向客源","left-options":{showBack:!1}},slot:"header"},[e("div",{staticClass:"addIcon",attrs:{slot:"right"},on:{click:t.toAdd},slot:"right"},[e("i",{staticClass:"iconfont icon-xinjian1"})])]),t._v(" "),e("sticky",{attrs:{"scroll-box":"vux_view_box_body"}},[e("div",{staticClass:"searchGray"},[e("search",{attrs:{"auto-fixed":!1,placeholder:"姓名/手机"},on:{"on-submit":t.searchGuest,"on-clear":t.clearSearch,"on-cancel":t.clearSearch},model:{value:t.keyWord,callback:function(a){t.keyWord=a},expression:"keyWord"}})],1)]),t._v(" "),e("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[e("loading",{attrs:{show:t.showLoading,text:"数据加载中"}})],1),t._v(" "),t.listData.length>0?e("div",{staticClass:"sourceScroll"},[e("scroll",{ref:"scroll",attrs:{data:t.listData,pullDownRefresh:!1},on:{pullingUp:t.moreData}},[e("ul",{staticClass:"userNav"},[t._l(t.listData,function(a,n){return e("li",{key:n,on:{click:function(e){t.toDetail(a)}}},[e("div",{staticClass:"userLeft"},[e("div",{staticClass:"line"},[e("div",{staticClass:"name ellipsis"},[t._v(t._s(a.name))]),t._v(" "),e("div",{staticClass:"gender"},[t._v(t._s(t._f("genderStr")(a.gender)))])]),t._v(" "),e("div",{staticClass:"mobile"},[t._v(t._s(a.mobile))])]),t._v(" "),e("div",{class:["userStatus",1==a.intentionality?"success":3==a.intentionality?"warn":""]},[t._v("\n              "+t._s(t._f("statusStr")(a.intentionality))+"\n              ")]),t._v(" "),e("div",{staticClass:"userRight"},[t._v(t._s(t._f("listStatus")(a)))]),t._v(" "),e("i",{staticClass:"iconfont icon-youjiantou"})])}),t._v(" "),e("div",{staticClass:"clearfix"}),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"iconfont icon-wushuju"})],2)])],1):e("div",{staticClass:"noData_content"},[e("p",[t._v("暂无数据o(╥﹏╥)o")])]),t._v(" "),e("footers",{attrs:{slot:"bottom",selectedIndex:3},slot:"bottom"})],1)],1)},m=[],g={render:v,staticRenderFns:m},b=g,p=e("VU/8"),w=n,_=p(f,b,!1,w,"data-v-57246b04",null);a.default=_.exports},"S/yX":function(t,a,e){a=t.exports=e("FZ+f")(!1),a.push([t.i,"\n.left[data-v-57246b04] {\n  float: left;\n}\n.right[data-v-57246b04] {\n  float: right;\n}\n.sourceScroll[data-v-57246b04] {\n  height: 13.72222rem;\n}\n.userNav[data-v-57246b04] {\n  font-size: 0.33333rem;\n}\n.userNav li[data-v-57246b04] {\n  width: 100%;\n  float: left;\n  margin-bottom: 0.13889rem;\n  position: relative;\n  padding: 0.13889rem 0.41667rem;\n  box-sizing: border-box;\n  background-color: #fff;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  /*Flex布局*/\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  /*指定垂直居中*/\n}\n.userNav li .icon-youjiantou[data-v-57246b04] {\n  position: absolute;\n  right: 0.13889rem;\n  color: #ccc;\n  top: 0.33333rem;\n}\n.userNav li .userLeft[data-v-57246b04] {\n  width: 4.16667rem;\n  line-height: 0.55556rem;\n  float: left;\n}\n.userNav li .userLeft .name[data-v-57246b04] {\n  width: 1.94444rem;\n  float: left;\n}\n.userNav li .userLeft .gender[data-v-57246b04] {\n  width: 1.38889rem;\n  float: left;\n}\n.userNav li .userLeft .mobile[data-v-57246b04] {\n  color: #666;\n}\n.userNav li .userLeft .width100[data-v-57246b04] {\n  width: 100%;\n}\n.userNav li .userStatus[data-v-57246b04] {\n  float: left;\n  width: 0.55556rem;\n  height: 0.55556rem;\n  background: #4680FF;\n  line-height: 0.61111rem;\n  text-align: center;\n  color: #fff;\n}\n.userNav li .warn[data-v-57246b04] {\n  background: red;\n}\n.userNav li .success[data-v-57246b04] {\n  background: #38e028;\n}\n.userNav li .userRight[data-v-57246b04] {\n  width: 4.72222rem;\n  text-align: center;\n  line-height: 0.83333rem;\n  padding-right: 0.13889rem;\n  float: right;\n}\n.addList[data-v-57246b04] {\n  position: fixed;\n  width: 1.38889rem;\n  height: 1.38889rem;\n  bottom: 0.69444rem;\n  left: 50%;\n  margin-left: -0.69444rem;\n  color: #4680FF;\n  z-index: 3;\n}\n.addList i[data-v-57246b04] {\n  font-size: 1.38889rem;\n}\n",""])}});